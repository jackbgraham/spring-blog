<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head th:replace="partials/partials.html :: head ('Posts')">
  <meta charset="UTF-8">
  <title>All Posts</title>
<!--  http://localhost:8080/posts-->
<!--  <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.2-2/css/bootstrap.min.css} "/>-->
</head>
<body>
<nav th:replace="partials/partials.html :: nav"></nav>

<h1 class="tmarg">Your feed:</h1>
<br>
<div class="flipped">
    <ul th:each="post : ${allPosts}" class="postcontainer">
      <li class="posts">
        <h2 th:text="${post.title}"></h2>
        <p th:text="${post.body}"></p>
        <br>
        <span>created by user </span><span th:text="${post.user.id}"></span>

        <p th:if="${post.user.id} == ${#authentication.principal.id}">
          <button th:data-id="${post.id}" class="editButton">Edit</button>
          <button th:data-id="${post.id}" class="deleteButton">Delete</button>
    <!--    <div class="container">-->
    <!--      <div class="row mt-5">-->
    <!--        &lt;!&ndash; Button trigger modal &ndash;&gt;-->
    <!--        <button class="btn btn-primary" data-target="#delmodal" data-toggle="modal" type="button">-->
    <!--          Launch simple modal-->
    <!--        </button>-->
    <!--        <th:block th:replace="partials/delmodal.html :: modal('delmodal')">modal</th:block>-->
    <!--      </div>-->
    <!--    </div>-->
        </p>

      </li>
    </ul>
</div>
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
<script src="/js/edit.js"></script>
<script src="/js/delete.js"></script>

<!--<script th:src="@{/webjars/jquery/jquery.min.js}"></script>-->
<!--<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>-->
<!--<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>-->
<!--these break it, trying to get a modal to function-->

</body>
</html>